# PNG 색상 변경기

사용자가 PNG 이미지를 업로드하고 원본의 음영, 그라데이션, 디테일을 보존하면서 동적으로 색상을 변경할 수 있는 최신 웹 애플리케이션입니다. 고품질 클라이언트 측 이미지 처리를 위해 React, TypeScript, HTML5 Canvas API로 제작되었습니다.

## 주요 기능

- **PNG 파일 업로드**: 로컬 컴퓨터에서 PNG 파일을 안전하게 업로드합니다.
- **동적 색상 선택기**: 이미지에 적용할 색상을 즉시 선택할 수 있습니다.
- **고품질 색상 변경**: 휘도(luminance) 보존 알고리즘을 사용하여 원본 이미지의 디테일, 그림자, 앤티에일리어싱을 유지하여 "단색으로 덮어씌운" 느낌을 방지합니다.
- **실시간 미리보기**: 새로운 색상을 선택하면 색상이 변경된 이미지가 즉시 업데이트되는 것을 확인할 수 있습니다.
- **반응형 디자인**: Tailwind CSS로 구축된 깔끔하고 현대적인 UI는 모든 화면 크기에서 원활하게 작동합니다.
- **로딩 및 오류 상태**: 이미지 처리 중이거나 잘못된 파일이 업로드되었을 때 사용자에게 명확한 피드백을 제공합니다.
- **클라이언트 측 처리**: 모든 처리는 브라우저 내에서 이루어져 최고의 속도와 사용자 개인 정보 보호를 보장합니다. 이미지는 서버에 업로드되지 않습니다.

## 작동 방식

이 애플리케이션의 핵심은 HTML5 `<canvas>` 요소를 사용한 클라이언트 측 이미지 처리 로직입니다.

1.  **파일 읽기**: 사용자가 PNG를 업로드하면 `FileReader` API가 파일을 데이터 URL(`base64`)로 읽습니다. 이 문자열은 React 상태에 저장되어 원본 이미지 소스로 사용됩니다.
2.  **캔버스에 그리기**: 보이지 않는 `<canvas>` 요소가 작업 공간으로 사용됩니다. 업로드된 이미지는 `ctx.drawImage()`를 사용하여 이 캔버스에 그려집니다.
3.  **픽셀 조작**:
    - `ctx.getImageData()`를 호출하여 전체 캔버스의 픽셀 데이터를 `Uint8ClampedArray`로 읽어옵니다. 이 배열은 모든 픽셀에 대한 RGBA(빨강, 녹색, 파랑, 알파) 데이터를 포함합니다.
    - 코드는 이 배열을 한 번에 4개의 값(한 번의 반복에 한 픽셀)씩 순회합니다.
    - 투명하지 않은 각 픽셀(`alpha > 0`)에 대해:
        - 표준 공식 `(0.299*R + 0.587*G + 0.114*B)`을 사용하여 원본 픽셀의 **휘도(인식되는 밝기)**를 계산합니다.
        - 휘도의 역수를 기반으로 `intensity`(강도) 값을 계산합니다. 원본의 어두운 픽셀일수록 강도가 높아지고, 밝은 픽셀일수록 강도가 낮아집니다.
        - 계산된 `intensity`를 혼합 계수로 사용하여 사용자가 선택한 색상과 순수한 흰색을 혼합하여 새로운 픽셀 색상을 결정합니다. 이것이 바로 새로운 색상에서도 **원본의 음영을 보존**하는 핵심 단계입니다.
4.  **결과 표시**:
    - `ctx.putImageData()`는 수정된 픽셀 배열을 다시 캔버스에 씁니다.
    - `canvas.toDataURL('image/png')`는 캔버스 콘텐츠를 다시 base64 데이터 URL로 변환합니다.
    - 이 새로운 데이터 URL이 React 상태에 설정되어 UI의 `<img>` 요소가 다시 렌더링되고 최종적으로 색상이 변경된 이미지를 표시합니다.

## 기술 스택

- **프론트엔드 라이브러리**: React 19 (esm.sh 통해 사용)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS (CDN 통해 사용)
- **핵심 API**: HTML5 Canvas API (`getImageData` / `putImageData`)
- **모듈 시스템**: ES Modules (`importmap` 통해 사용)

## 사용 방법

1.  브라우저에서 애플리케이션을 엽니다.
2.  **"Upload PNG File"** 버튼을 클릭하고 장치에서 PNG 이미지를 선택합니다.
3.  이미지가 기본 색상이 적용된 상태로 미리보기 패널에 나타납니다.
4.  **"New Color"** 옆의 색상 견본을 클릭하여 기본 색상 선택기를 엽니다.
5.  새로운 색상을 선택하면 미리보기 이미지가 실시간으로 업데이트됩니다.
6.  처리된 이미지는 마우스 오른쪽 버튼을 클릭하고 "이미지를 다른 이름으로 저장..."을 선택하여 저장할 수 있습니다.

## 프로젝트 파일 구조

```
.
├── index.html         # 메인 HTML 진입점, CDN 링크 및 루트 div 포함
├── index.tsx          # React 애플리케이션 진입점, App 컴포넌트 마운트
├── App.tsx            # 모든 UI, 상태 및 처리 로직을 포함하는 메인 React 컴포넌트
└── metadata.json      # 웹 컨테이너를 위한 애플리케이션 메타데이터
```
